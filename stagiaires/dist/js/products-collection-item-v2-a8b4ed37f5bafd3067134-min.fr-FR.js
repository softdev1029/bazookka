(function(i){var n={};function a(e){if(n[e])return n[e].exports;var t=n[e]={i:e,l:false,exports:{}};i[e].call(t.exports,t,t.exports,a);t.l=true;return t.exports}a.m=i;a.c=n;a.d=function(e,t,i){a.o(e,t)||Object.defineProperty(e,t,{enumerable:true,get:i})};a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});Object.defineProperty(e,"__esModule",{value:true})};a.t=function(t,e){1&e&&(t=a(t));if(8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var i=Object.create(null);a.r(i);Object.defineProperty(i,"default",{enumerable:true,value:t});if(2&e&&"string"!=typeof t)for(var n in t)a.d(i,n,function(e){return t[e]}.bind(null,n));return i};a.n=function(t){var e=t&&t.__esModule?function e(){return t["default"]}:function e(){return t};a.d(e,"a",e);return e};a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)};a.p="https://assets.squarespace.com/universal/scripts-compressed/";return a(a.s=10427)})({10427:function(e,t,i){i(6023);i(5114)},2:function(e,t){function i(e,t,i){t in e?Object.defineProperty(e,t,{value:i,enumerable:true,configurable:true,writable:true}):e[t]=i;return e}e.exports=i},29:function(e,t,i){var n=i(838);var a=i(925);var s=i(839);function r(e,t){return n(e)||a(e,t)||s()}e.exports=r},4:function(e,t){function i(e){return e&&e.__esModule?e:{default:e}}e.exports=i},4127:function(e,t,i){"use strict";var n=i(4);Object.defineProperty(t,"__esModule",{value:true});t.getWidthForHeight=a;t.getHeightForWidth=s;t.getDimensionsFromNode=o;t.getSquarespaceSizeForWidth=u;t.getIconUrl=l;var r=n(i(29));function a(e,t,i){return e/t*i}function s(e,t,i){return t/e*i}function o(e){var t=e.getAttribute("data-image-dimensions");if("string"===typeof t){var i=t.split("x").map(function(e){return Number(e)}),n=(0,r.default)(i,2),a=n[0],s=n[1];return{width:a,height:s}}return{width:null,height:null}}function u(e){window.devicePixelRatio&&(e*=window.devicePixelRatio);if(e>1500)return"2500w";if(e>1e3)return"1500w";if(e>750)return"1000w";if(e>500)return"750w";if(e>300)return"500w";if(e>100)return"300w";return"100w"}function l(e,t,i){return"/universal/images-v6/icons/icon-".concat(e,"-").concat(t,"-").concat(i,".png")}},5114:function(e,t,i){var n=i(4127);YUI.add("squarespace-image-zoom",function(s){s.namespace("Squarespace");var r=s.Squarespace.ImageZoom=s.Base.create("image-zoom",s.Base,[],{initializer:function(){if(!this._shouldInitialize())return;if(!this.get("host")){false;return}this._initializeZoom()},destructor:function(){if(!this._shouldInitialize())return;var e=this.get("zoomedNode");e&&e.remove(true);this.get("host").removeClass(r.CSS_PREFIX).removeClass(r.CSS_PREFIX+"--behavior-"+this.get("behavior"));this.get("dropzone").setStyle("position","").removeClass(r.CSS_PREFIX+"-dropzone");this._zoomTriggerEvent&&this._zoomTriggerEvent.detach();this._mouseMoveEvent&&this._mouseMoveEvent.detach();this._mouseOutEvent&&this._mouseOutEvent.detach();this._resizeEvent&&this._resizeEvent.detach();this._zoomTriggerEvent=null;this._mouseMoveEvent=null;this._mouseOutEvent=null;this._resizeEvent=null},_bindUI:function(){var e=this.get("host");this._zoomTriggerEvent=e.on(this.get("behavior"),this._toggleZoom,this);this._mouseMoveEvent=e.on("mousemove",this._trackMovement,this);this._mouseOutEvent=e.on("mouseout",this._zoomOut,this);this._resizeEvent=s.one(window).on("resize",this._refresh,this)},_shouldInitialize:function(){return!s.UA.mobile&&window.Modernizr.csstransforms},_initializeZoom:function(){var e=this.get("host");var t=e.one("img");var i=this.get("dropzone");e.addClass(r.CSS_PREFIX);e.addClass(r.CSS_PREFIX+"--behavior-"+this.get("behavior"));i.addClass(r.CSS_PREFIX+"-dropzone");"static"===i.getStyle("position")&&i.setStyle("position","relative");if(t.getAttribute("src")){this._appendZoomedNode();this._bindUI()}else t.once("load",function(){this._appendZoomedNode();this._bindUI()},this)},_appendZoomedNode:function(){var e=this.get("host").one("img");var t=e.getAttribute("data-src");if(!t){false;return null}var i=e.getAttribute("data-image-dimensions");i=i||e.get("clientWidth")+"x"+e.get("clientHeight");var n=e.getAttribute("data-image-focal-point");n=n||"0.5,0.5";var a=s.Node.create('<div class="'+r.CSS_PREFIX+'-duplicate"><img src="'+t+"?format="+this._getSquarespaceSizeForWidth()+'" data-image-dimensions="'+i+'" data-image-focal-point="'+n+'"></div>');a.setStyle("transform","scale("+this.get("zoom")+")");a.one("img").plug(s.Squarespace.Loader2,{load:true,mode:"fill"});this.set("zoomedNode",a);this.get("dropzone").append(a)},_refresh:function(){var e=this.get("host").one("img").getAttribute("data-src");var t=this.get("zoomedNode").one("img");t.setAttribute("src",e+"?format="+this._getSquarespaceSizeForWidth());t.fire("refresh")},_toggleZoom:function(e){this.get("_isZoomedIn")?this._zoomOut():this._zoomIn(e);e.stopPropagation()},_zoomIn:function(e){this.get("host").addClass("is-zoomed");this.set("_isZoomedIn",true);this._trackMovement(e)},_zoomOut:function(){this.get("host").removeClass("is-zoomed");this.set("_isZoomedIn",false)},_trackMovement:function(e){if(!this.get("_isZoomedIn"))return;var t=Math.max((e.pageX-this.get("host").getX())/this.get("host").get("clientWidth")*100,0);var i=Math.max((e.pageY-this.get("host").getY())/this.get("host").get("clientHeight")*100,0);this.get("zoomedNode").setStyle("transformOrigin",t+"% "+i+"%")},_getSquarespaceSizeForWidth:function(){var e=this.get("host").one("img").get("clientWidth");return n.getSquarespaceSizeForWidth(e*this.get("zoom"))}},{CSS_PREFIX:"sqs-image-zoom",ATTRS:{host:{value:null,validator:function(e){var t=s.one(e);return s.instanceOf(t,s.Node)&&t.one("img")&&t.all("img").size()<2},writeOnce:true},dropzone:{valueFn:function(){return this.get("host")},validator:function(e){return s.instanceOf(s.one(e),s.Node)},writeOnce:true},behavior:{value:"hover",validator:function(e){if("hover"!==e&&"click"!==e){false;return false}return true},writeOnce:true},zoom:{value:1.5,validator:function(e){("number"!==typeof e||e<=1||e>5)&&false;return true},writeOnce:true},_isZoomedIn:{value:false}}})},"1.0",{requires:["base","event","node","squarespace-image-loader","yui-base"]})},6023:function(e,t,i){var a=i(6376);var s=i(714);YUI.add("squarespace-products-collection-item-v2",function(n){n.namespace("Squarespace.SystemCollections.Products").ItemV2=n.Base.create("systemCollectionsProductsItemV2",n.Base,[],{initializer:function(){this._syncSelectedVariantOptions();this._bindUI();this._syncUI();this.get("isLightboxEnabled")&&this._lightboxifyImages()},destructor:function(){this._resizeEvent&&this._resizeEvent.detach();this._tweakChangeEvent&&this._tweakChangeEvent.detach();this._tweakResetEvent&&this._tweakResetEvent.detach();this._tweakCloseEvent&&this._tweakCloseEvent.detach();var e=this.get("host").one(".product-variants");e&&e.getDOMNode().removeEventListener("variant:change",this._variantChangeEvent);n.Array.each(this._selectChangeEvents,function(e){e.detach()});this._resizeEvent=null;this._tweakChangeEvent=null;this._tweakResetEvent=null;this._tweakCloseEvent=null;this._selectChangeEvents=null;this._variantChangeEvent=null;this._zoomInstances&&this._zoomInstances.length>0&&this._destroyImageZoomInstances();this.get("slideshow")&&this.get("slideshow").destroy(true);this.get("lightbox")&&this._destroyLightbox()},_bindUI:function(){this._resizeEvent=n.on("windowresize",function(){this._syncUI()},n.config.win,this);this._tweakChangeEvent=n.Global.on("tweak:change",this._tweakChangeHandler,this);this._tweakResetEvent=n.Global.on("tweak:reset",this._syncUI,this);window.SQUARESPACE_LOGIN&&window.SQUARESPACE_LOGIN.isLoggedIn()&&n.on("beforeunload",function(){this.destroy(true)},this)},_syncUI:function(){this.get("isProductGallerySlideshow")||this.get("isProductQuickView")?this.get("slideshow")?this._refreshSlideshowGallery():this._renderSlideshowGallery():this.get("isProductGalleryStacked")&&(this.get("isRenderedStackedGallery")?this._refreshStackedGallery():this._renderStackedGallery());this._loadRelatedItemImages();this._attachVariantImageListeners()},_attachVariantImageListeners:function(){var e=this.get("host").one(".product-variants");if(!e)return;if(this._variantChangeEvent){e.getDOMNode().removeEventListener("variant:change",this._variantChangeEvent);this._variantChangeEvent=null}if(this.get("isProductGallerySlideshow")||this.get("isProductQuickView")){this._variantChangeEvent=this._handleSlideshowGalleryVariantChange.bind(this);e.getDOMNode().addEventListener("variant:change",this._variantChangeEvent)}else if(this.get("isProductGalleryStacked")&&!s.isMobile()){this._variantChangeEvent=this._handleStackedGalleryVariantChange.bind(this);e.getDOMNode().addEventListener("variant:change",this._variantChangeEvent)}},_handleStackedGalleryVariantChange:function(e){var t=e.detail.selectedVariant;var i=t.mainImageId;if(!i)return;var n=this.get("slideContainer").getDOMNode();var a=n.querySelector(".focus-image");if(a){a.classList.remove("focus-image");var s=a.getAttribute("data-slide-index");n.insertBefore(a,n.children[s])}var r=n.querySelector('[data-image-id="'+i+'"]');if(r){r.classList.add("focus-image");n.insertBefore(r,n.firstChild)}},_handleSlideshowGalleryVariantChange:function(e){var t=this.get("slideContainer").getDOMNode();var i=this.get("slideshow");var n=e.detail.selectedVariant;if(!n.mainImageId)return;var a=n.mainImageId;var s=t.querySelector('[data-image-id="'+a+'"]');if(!s)return;var r=s.getAttribute("data-slide-index");r&&i.setNewIndex(r-1)},_tweakChangeHandler:function(e){switch(e.getName()){case"tweak-product-item-spacing":case"tweak-product-item-gallery-design":case"tweak-product-item-gallery-width":case"tweak-product-item-gallery-aspect-ratio":case"tweak-product-item-gallery-thumbnail-width":this._syncUI();case"tweak-product-item-image-zoom-enabled":case"tweak-product-item-image-zoom-behavior":case"tweak-product-item-image-zoom-factor":this.get("isImageZoomEnabled")?this._instantiateZoom():this._destroyImageZoomInstances();case"tweak-product-item-lightbox-enabled":this.get("isLightboxEnabled")?this._lightboxifyImages():this.get("lightbox")&&this._destroyLightbox();break;case"tweak-related-products-items-per-row":case"tweak-related-products-item-spacing":case"tweak-related-products-image-aspect-ratio":this._loadRelatedItemImages();break}},_syncSelectedVariantOptions:function(){this._selectChangeEvents=[];this.get("host").all(".variant-option").each(function(e){var n=e.one(".variant-select-wrapper");var a=e.one("select");var s=a.one("option").get("text");n.setAttribute("data-text",s);this._selectChangeEvents.push(e.delegate("change",function(e){var t=a.get("value");var i=""===t?s:t;n.setAttribute("data-text",i)},"select"))},this)},_renderSlideshowGallery:function(){if(this.get("isRenderedStackedGallery")){this._cleanupStackedGallery();this.set("isRenderedStackedGallery",false)}this.get("isImageZoomEnabled")&&this._instantiateZoom();this._instantiateSlideshow()},_instantiateSlideshow:function(){if(this.get("images").size()<1)return;var e=this.get("slideContainer").getDOMNode();var t=this.get("thumbnailContainer").getDOMNode();this.set("slideshow",new a(e,t));this.get("images").each(function(e){e.plug(n.Squarespace.Loader2,{load:true,mode:"fill"})});this.get("images").each(function(e){e.fire("refresh")});this._loadSlideshowThumbnails()},_loadSlideshowThumbnails:function(){this.get("images").size()>1&&this.get("thumbnails").each(function(e){e.plug(n.Squarespace.Loader2,{load:true,mode:"fill"})})},_loadRelatedItemImages:function(){this._onImageLoadEvents=[];this.get("relatedItemImages").each(function(e){if(e.hasClass("loaded"))e.fire("refresh");else{e.plug(n.Squarespace.Loader2,{load:true,mode:"fill"});this._onImageLoadEvents.push(e.on("load",function(){e.hasClass("ProductItem-relatedProducts-image--primary")&&e.ancestor(".ProductItem-relatedProducts-item").addClass("image-is-loaded")}))}},this)},_refreshSlideshowGallery:function(){this.get("thumbnails").each(function(e){e.fire("refresh")});this.get("images").each(function(e){e.fire("refresh")})},_destroySlideshowAndResetImageStyles:function(){this.get("slideshow").destroy(true);this.get("images").each(function(e){e.setStyles({position:"",top:"",left:"",right:"",bottom:"",zIndex:"",width:"",height:"",overflow:""})})},_renderStackedGallery:function(){if(this.get("slideshow")){this._destroySlideshowAndResetImageStyles();this.set("slideshow",null)}this.get("isImageZoomEnabled")&&this._instantiateZoom();this.get("images").each(function(e){e.plug(n.Squarespace.Loader2,{load:true,mode:null})});this.set("isRenderedStackedGallery",true)},_refreshStackedGallery:function(){this.get("images").each(function(e){e.fire("refresh")})},_cleanupStackedGallery:function(){var e=this.get("host").getDOMNode();var t=e.querySelector(".cloned-focus-image");t&&t.remove();var i=e.querySelector(".original-focus-image");i&&i.classList.remove(".original-focus-image")},_lightboxifyImages:function(){if(this.get("images").size()<1||this.get("isProductQuickView"))return;var t=[];this.get("images").each(function(e){t.push({content:e})});var i=this.get("images").size()>1;this._imageClickEvent=this.get("slideContainer").delegate("click",function(e){this.set("lightbox",new n.Squarespace.Lightbox2({controls:{previous:i,next:i},set:t,currentSetIndex:parseInt(e.currentTarget.getAttribute("data-slide-index"),10)-1}));this.get("lightbox").render()},".ProductItem-gallery-slides-item",this)},_destroyLightbox:function(){this.get("lightbox").destroy(true);this.set("lightbox",null);this._imageClickEvent.detach();this._imageClickEvent=null},_instantiateZoom:function(){this._destroyImageZoomInstances();this._zoomInstances=[];this.get("images").each(function(e){this._zoomInstances.push(new n.Squarespace.ImageZoom({host:e.get("parentNode"),behavior:this.get("isImageZoomBehaviorClick")?"click":"hover",zoom:this.get("imageZoomFactor")}))},this)},_destroyImageZoomInstances:function(){if(!this._zoomInstances||this._zoomInstances.length<1)return;n.Array.each(this._zoomInstances,function(e){e.destroy(true)});this._zoomInstances=null}},{ATTRS:{host:{value:null,validator:function(e){var t=n.one(e);return n.instanceOf(t,n.Node)},writeOnce:true},slideContainer:{valueFn:function(){return this.get("host").one(".ProductItem-gallery-slides")}},thumbnailContainer:{valueFn:function(){return this.get("host").one(".ProductItem-gallery-thumbnails")}},images:{valueFn:function(){return this.get("host").all(".ProductItem-gallery-slides-item-image")}},thumbnails:{valueFn:function(){return this.get("host").all(".ProductItem-gallery-thumbnails-item-image")}},relatedItemImages:{valueFn:function(){return this.get("host").all(".ProductItem-relatedProducts-image")}},isProductQuickView:{valueFn:function(){return this.get("host").ancestor(".sqs-product-quick-view-lightbox")}},isImageZoomEnabled:{getter:function(){return n.one(".tweak-product-item-image-zoom-enabled")}},isImageZoomBehaviorClick:{getter:function(){return n.one(".tweak-product-item-image-zoom-behavior-click")}},imageZoomFactor:{getter:function(){return parseFloat(n.Squarespace.Template.getTweakValue("tweak-product-item-image-zoom-factor"))}},isLightboxEnabled:{getter:function(){return n.one(".tweak-product-item-lightbox-enabled")&&!this.get("isImageZoomBehaviorClick")}},isProductGallerySlideshow:{getter:function(){return n.one(".tweak-product-item-gallery-design-slideshow")}},isProductGalleryStacked:{getter:function(){return n.one(".tweak-product-item-gallery-design-stacked")}}}});var t=[];n.config.win.Squarespace.onInitialize(n,function(){n.all(".ProductItem.products-collection-v2").each(function(e){if(e.get("parentNode").hasClass("sqs-product-quick-view-content"))return false;e.one(".ProductItem-details .sqs-add-to-cart-button").removeClass("sqs-editable-button");t.push(new n.Squarespace.SystemCollections.Products.ItemV2({host:e}))})});n.config.win.Squarespace.onDestroy(n,function(){t.forEach(function(e){e.destroy()});t.length=0})},"1.0",{requires:["base","node","squarespace-beforeunload","squarespace-gallery-ng","squarespace-image-loader","squarespace-image-zoom","squarespace-public-api","squarespace-widgets-lightbox2"]})},6376:function(e,t,i){"use strict";var n=i(4);Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var a=n(i(8));var s=n(i(2));var r="sqs-pdp-gallery-slide";var o="sqs-pdp-gallery-slide-active";var u="sqs-pdp-gallery-slide-transition";var l="ProductItem-gallery-slides-item";var c="ProductItem-gallery-thumbnails-item";var d="sqs-active-slide";var h=0;var g=function e(t,i){var n=this;(0,a.default)(this,e);(0,s.default)(this,"thumbnails",void 0);(0,s.default)(this,"images",void 0);(0,s.default)(this,"currentIndex",h);(0,s.default)(this,"incrementCurrentIndex",function(){var e=(n.currentIndex+1)%n.images.length;n.setNewIndex(e)});(0,s.default)(this,"decrementCurrentIndex",function(){var e=n.currentIndex-1;e=e<0?e+n.images.length:e;n.setNewIndex(e)});(0,s.default)(this,"setNewIndex",function(e){if(e===n.currentIndex)return;n.images.forEach(function(e){return e.classList.remove(u)});n.images[e].classList.add(u);n.images[n.currentIndex].classList.add(u);n.setInactiveImage(n.currentIndex);n.setActiveImage(e);n.currentIndex=e});(0,s.default)(this,"destroy",function(){n.images.forEach(function(e){e.classList.remove(o,d,r,u)});n.thumbnails.forEach(function(e){e.removeEventListener("click",n.handleThumbnailClick)});var e=document.querySelector("iframe#sqs-site-frame");null!==e&&e.contentWindow?e.contentWindow.removeEventListener("keyup",n.handleKeypress):document.removeEventListener("keyup",n.handleKeypress)});(0,s.default)(this,"handleKeypress",function(e){var t=e.key||e.keyCode;"ArrowRight"===t||39===t?n.incrementCurrentIndex():"ArrowLeft"!==t&&37!==t||n.decrementCurrentIndex()});(0,s.default)(this,"handleThumbnailClick",function(e){var t=e.currentTarget;var i=t.getAttribute("data-thumbnail-index");i&&n.setNewIndex(+i-1)});(0,s.default)(this,"setActiveImage",function(e){return n.images[e].classList.add(o,d)});(0,s.default)(this,"setInactiveImage",function(e){return n.images[e].classList.remove(o,d)});(0,s.default)(this,"attachEventListeners",function(){n.thumbnails.forEach(function(e){e.addEventListener("click",n.handleThumbnailClick)});var e=document.querySelector("iframe#sqs-site-frame");null!==e&&e.contentWindow?e.contentWindow.addEventListener("keyup",n.handleKeypress):document.addEventListener("keyup",n.handleKeypress)});this.images=Array.from(t.getElementsByClassName(l));this.images.forEach(function(e,t){t===h&&e.classList.add(o,d);e.classList.add(r)});this.thumbnails=Array.from(i.getElementsByClassName(c));this.attachEventListeners()};t.default=g;e.exports=t.default},714:function(e,t,i){"use strict";var n={mobile:"screen and (max-width: 432px)",desktop:"screen and (min-width: 433px)",tablet:"screen and (max-width: 0px)"};var a=function e(){return Object.keys(n).find(function(e){return window.matchMedia(n[e]).matches})};var s=function e(t,i){if(i)return i===t;return a()===t};var r=function e(t){return s("mobile",t)};var o=function e(t){return s("desktop",t)};var u=function e(t){return s("tablet",t)};var l=function e(t){return r(t)||u(t)};e.exports={mediaQueries:n,determineCurrentMedia:a,isMobile:r,isTablet:u,isDesktop:o,isSubDesktop:l}},8:function(e,t){function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}e.exports=i},838:function(e,t){function i(e){if(Array.isArray(e))return e}e.exports=i},839:function(e,t){function i(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}e.exports=i},925:function(e,t){function i(e,t){var i=[];var n=true;var a=false;var s=void 0;try{for(var r=e[Symbol.iterator](),o;!(n=(o=r.next()).done);n=true){i.push(o.value);if(t&&i.length===t)break}}catch(e){a=true;s=e}finally{try{n||null==r["return"]||r["return"]()}finally{if(a)throw s}}return i}e.exports=i}});
//# sourceMappingURL=https://sourcemaps.squarespace.net/universal/scripts-compressed/products-collection-item-v2-d3af730f78a505e88f166-min.fr-FR.js.map